# 독립 2표본 t검정 => ANOVA

> 독립적인 두 그룹의 평균에 대한 비교 => 둘 이상이라면?
>
> g개 그룹 간의 평균에 차이가 있는지를 통계적으로 검정하기 위해서 분산분석(analysis of variance, ANOVA)사용

# 분산 분석(analysis of variance, ANOVA)

> 그룹에 따라 반응변수의 평균이 차이가 나는지 알아보는 추론
>
> 일원배치 분산분석(One-way ANOVA): 그룹 변수 한 개
> >
> > 한개의 요인이 g개의 수준을 가질 때 수준 간 모평균 비교
> >
> > ex) 비료의 종류라는 한가지 요인에 의해 달라짐
>
> 이원 배치 분산분석(Two-way ANOVA): 그룹 변수가 두 개
> >
> > 
> >
> > ex) 비료와 농약의 종류라는 두 가지 요인에 의해 달라짐
>
> 삼원배치 분산분석(Three-way ANOVA): 그룹 변수가 세 개
> 
> > ex) 비료, 농약의 종류 및 일조량의 차이라는 세 가지 요인에 의해 달라짐  
>
> k-way ANOVA: 요인이 k개
> 
> 요인(factor): 설명 변수
> 
> 수준(level): 설명 변수의 각 범주인 그룹
>
> #### 제곱합의 분해
> >
> > g개 수준의 모평균 비교
> > 
> > 분산 분석표를 작성하여 수준 간 평균의 차이가 있는지 검정
> > 
> > 전체 자료 평균을 y로 i번째 그룹평균을 y_i로 표시하면
> > 
> > 자료 각각에서 전체 평균을 뺀 편차의 제곱을 구하여 이를 모두 합한 값
> > 
> > 자료의 전체 변동량
> > 
> > ![image](https://user-images.githubusercontent.com/65435447/166202224-52d6d147-0f6e-4f79-8330-f61e999eb503.png)
> >
> > <출처: https://m.blog.naver.com/PostView.naver?isHttpsRedirect=true&blogId=syj2755&logNo=220717448739>
> > 
> > SST ()
> > 
> > SSE(Sum of Squares Within) : 수준 내의 변동에 의해 생성되는 값
> > 
> > SSB (Sum of Squares Between) : 수준 내의 변동에 의해 생성되는 값
> > 
> > SSTrt(처리제곱합) : 값이 크다면 수준 간 차이가 크다고 볼 수 있으나 수준의 수가 많거나 원래 자료의 변동성이 클 경우, SSTrt가 크게 얻어지므로 이에 대한 보정이 필요함 -> 자유도를 사용하여 보정
> > 
>
> #### 자유도
> 
> > 전체 자료 수 N
> > 
> > SST의 자유도: N - 1
> > 
> > SSTrt의 자유도: g - 1
> > 
> > SSE의 자유도: N - g
> > 
> > SST의 자유도 = SSTrt의 자유도 + SSE의 자유도
> 
> #### 평균제곱
> 
> > 평균제곱합(Mean squares) : 제곱합을 해당 자유도로 나눈 것
> >
> > MSTrt(Mean Square Treatment) = SSTrt/(g - 1)
> > 
> > MSE(Mean Square Error) = SSE/(N - g)
> > 
> > * SST의 평균제곱은 분석에 사용하지 않음

# 자료에 대한 가정
>
> 독립성: 모든 y_i_j는 독립이다.
>  
> 정규성: y_i_j의 분포는 정규분포이다.
>
> 등분산성: 수준이 달라도 분산은 o^2로 동일하다.
>
> #### 요약
> >
> > E_i_j가 모두 독립이며 N(0, o^2)에서의 확률변수일 때 y_i_j = u_i + E_i_j
> > 
> > u는 전체 평균, t_i = u_i - u로 i번째 수준의 평균과 전체 평균의 차이
> > 
> > y_i_j = u + t_i + E_i_j
>

# 가설 및 가설검정
>
> #### 귀무가설
> 
> > 수준 간 모평균에 차이가 없다
> > 
> > H_0 : u_1 = u_2 = ... = u_g
> >
> > 대립가설은 H_0에 대한 수학적 부정으로 '모두 같다'의 부정은 '모두 다르다'가 아니라 '적어도 하나는 다르다'임에 유의하여야 함
> > 
> 
> #### 귀무가설과 대립가설
> 
> > ![image](https://user-images.githubusercontent.com/65435447/166205631-c0898290-1ac6-44e3-9c50-87bcbc2ed2f4.png)
> >
> > F=(MSTrt)/(MSE)가 F-분포표의 F_g-1,N-g:a보다 크거나 컴퓨터를 사용할 경우 얻어진 유의확률 값이 유의수준 a보다 작으면 귀무가설 기각 
> 
> #### F분포
> 
> > 정규분포, t분포 등과 같이 통계학에서 사용하는 확률분포중의 하나
> >
> > 분자의 자유도와 분모의 자유도인 두 개의 모수를 갖는 분포
> >
> > 분자의 자유도가 앞의 숫자
> >
> > F분포를 갖는 확률변수는 항상 양의 실수
> 

# 자료 가정이 맞지 않을 경우
>
> #### 등분산 가정이 옳지 않을 경우
> >
> > 자료가 독립이고 정규분포이나, 각 수준의 분산이 모두 같지 않을 경우
> >
> > Welch의 분산분석 사용 가능
> >
> >
> >
> >
> >
> >
> >
> >.

















